0402
又回来工作力
现在的目标是对文件进行分片，按照指令的512KB左右分成许多小块
现状是文件会被放进一个worker里，直接传给wasm
今天考虑改变worker实现上述目标，有两种办法，第一种是进来的raw先分成片，然后for循环放进worker
第二种是在worker里面创建subworker
我认为创建subworker虽然难搞一点，但是有利于未来改进。比如说你有多个文件输入，理想的情况是用两个worker
添加了用户参数512（每个文件512）

还有一个问题，js内容在哪里分块？
go的库虽然有优化，但是编译成wasm之后就没用了
所以就在js里面做

把文件分片：
https://stackoverflow.com/questions/26224597/how-to-parse-uint8array-into-object
现在学习worker怎么用 

0403 
昨天完成的工作内容是把文件分片进行解码，性能虽然比起之前整块处理看起来略有下降，但是应当解决了内存占用巨大，浏览器崩溃的问题。接下来要处理的有这些事情：

1.怎么处理接收文件？loli提供的函数可以和websocket交互（websocket是什么作用来着）[在这儿](https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket) 然后通过调用这个函数来取得文件分片。那么现在要做的事情就是用js里面有的等待文件实时传输的函数来接收这个函数返回的文件碎片，然后用worker处理解码文件，并将解码完成的文件拼接起来。

2.优化文件输入，现在一次只能输入一个文件，理想的情况应该是一次接受多个文件，并分别创造两层worker来处理。昨天也想这样做，并把废旧代码放进了backup文件夹里，因为不知道怎么向upload传evt之外的更多参数（文件名、文件大小这一组属性），应当有合适的解决办法，但不知道去问谁

3.代码优化得想办法处理，另外是时候联系老师了
